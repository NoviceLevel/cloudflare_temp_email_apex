// Global styles for Angular Material application
@use '@angular/material' as mat;

// Custom theme colors
$primary-palette: (
  50: #e3f2fd,
  100: #bbdefb,
  200: #90caf9,
  300: #64b5f6,
  400: #42a5f5,
  500: #1976d2,
  600: #1e88e5,
  700: #1976d2,
  800: #1565c0,
  900: #0d47a1,
  contrast: (
    50: rgba(0, 0, 0, 0.87),
    100: rgba(0, 0, 0, 0.87),
    200: rgba(0, 0, 0, 0.87),
    300: rgba(0, 0, 0, 0.87),
    400: rgba(0, 0, 0, 0.87),
    500: white,
    600: white,
    700: white,
    800: white,
    900: white,
  )
);

// Define the theme
$app-primary: mat.m2-define-palette($primary-palette);
$app-accent: mat.m2-define-palette(mat.$m2-pink-palette, A200, A100, A400);
$app-warn: mat.m2-define-palette(mat.$m2-red-palette);

// Light theme
$light-theme: mat.m2-define-light-theme((
  color: (
    primary: $app-primary,
    accent: $app-accent,
    warn: $app-warn,
  ),
  typography: mat.m2-define-typography-config(),
  density: 0,
));

// Dark theme
$dark-theme: mat.m2-define-dark-theme((
  color: (
    primary: $app-primary,
    accent: $app-accent,
    warn: $app-warn,
  ),
  typography: mat.m2-define-typography-config(),
  density: 0,
));

// Include core styles
@include mat.core();

// Apply light theme by default
@include mat.all-component-themes($light-theme);

// Override card and dialog background to white
.mat-mdc-card {
  background-color: #fff !important;
}

.mat-mdc-dialog-container {
  --mdc-dialog-container-color: #fff;
}

.mat-mdc-dialog-surface {
  background-color: #fff !important;
}

// Dark mode support - Google style
body.dark-theme {
  background-color: #202124;
  color: #e8eaed;
  
  // Material overrides
  .mat-mdc-card { background-color: #303134 !important; }
  .mat-mdc-dialog-container { --mdc-dialog-container-color: #303134; }
  .mat-mdc-dialog-surface { background-color: #303134 !important; }
  .mat-mdc-menu-panel { background-color: #303134 !important; }
  .mat-mdc-form-field {
    --mdc-filled-text-field-container-color: #303134;
    --mdc-outlined-text-field-outline-color: #5f6368;
  }
  
  // Layout
  .app-page, .admin-page, .password-page { background: #202124; }
  .app-header, .admin-header { background: #202124; border-color: #5f6368; }
  .sidebar { background: #202124; border-color: #5f6368; }
  .sidebar-header { border-color: #5f6368; color: #e8eaed; }
  .menu-btn, .header-btn, .close-btn { color: #9aa0a6; }
  .header-title { color: #e8eaed; }
  
  // Navigation
  .nav-item { color: #e8eaed; }
  .nav-item:hover { background: #3c4043; }
  .nav-item.active { background: #394457; }
  .nav-item.active .nav-label { color: #8ab4f8; }
  .nav-label { color: #e8eaed; }
  .bottom-nav { background: #202124; border-color: #5f6368; }
  .bottom-nav-item { color: #9aa0a6; }
  .bottom-nav-item.active { color: #8ab4f8; }
  
  // Content
  .welcome-title, .view-header h2, .settings-view h2, .login-section h2, .password-card h1 { color: #e8eaed; }
  .welcome-subtitle, .section-title, .recent-subject, .recent-time, .stat-label, .address-status, .setting-desc, .login-hint, .password-card p { color: #9aa0a6; }
  .avatar-large { background: #8ab4f8; color: #202124; }
  .search-box { background: #303134; border-color: #5f6368; }
  .search-box input, .search-input { color: #e8eaed; }
  .quick-btn, .stat-card, .recent-list, .address-card, .setting-card, .login-card, .password-card { background: #303134; border-color: #5f6368; }
  .quick-btn:hover { border-color: #8ab4f8; color: #8ab4f8; }
  .stat-value, .recent-sender, .address-text, .setting-title, .user-email { color: #e8eaed; }
  .recent-item { border-color: #5f6368; }
  .recent-avatar, .address-avatar { background: #8ab4f8; color: #202124; }
  .view-all-btn { color: #8ab4f8; }
  .address-card.active { background: #394457; border-color: #8ab4f8; }
  .address-card.active .address-status { color: #8ab4f8; }
  .user-info-card { background: #303134; }
  .user-status { color: #8ab4f8; }
  .password-icon { background: #303134; color: #8ab4f8; }
}

// Global styles
html, body {
  height: 100%;
  margin: 0;
  font-family: 'Google Sans', Roboto, "Helvetica Neue", sans-serif;
}

// Gmail dialog styles
.gmail-dialog .mat-mdc-dialog-container {
  border-radius: 24px !important;
}

.gmail-dialog .mat-mdc-dialog-surface {
  border-radius: 24px !important;
}

// Responsive utilities
.container {
  max-width: 1200px;
  margin: 0 auto;
  padding: 16px;
}

// Utility classes
.text-center {
  text-align: center;
}

.mt-1 { margin-top: 8px; }
.mt-2 { margin-top: 16px; }
.mt-3 { margin-top: 24px; }
.mb-1 { margin-bottom: 8px; }
.mb-2 { margin-bottom: 16px; }
.mb-3 { margin-bottom: 24px; }

.full-width {
  width: 100%;
}

// Scrollbar styling
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}

::-webkit-scrollbar-track {
  background: transparent;
}

::-webkit-scrollbar-thumb {
  background: #888;
  border-radius: 4px;
}

::-webkit-scrollbar-thumb:hover {
  background: #555;
}

// Hide subscript wrapper for search fields
mat-form-field.no-subscript .mat-mdc-form-field-subscript-wrapper {
  display: none;
}
