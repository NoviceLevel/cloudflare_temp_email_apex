<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <link rel="icon" href="/logo.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Temp Email</title>
  <meta name="description" content="Temp Email">
  <meta name="theme-color" media="(prefers-color-scheme: light)" content="#000">
  <meta name="theme-color" media="(prefers-color-scheme: dark)" content="#ffffff">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-title" content="Temp Email">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <link rel="icon" href="/logo.png" sizes="any">
  <link rel="apple-touch-icon" href="/logo.png">
  <script src="https://challenges.cloudflare.com/turnstile/v0/api.js?render=explicit"></script>
  <style>
    /* M3 风格的浏览器不支持提示 */
    .browser-unsupported {
      display: none;
      position: fixed;
      inset: 0;
      background: #FDFCFF;
      z-index: 99999;
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
    .browser-unsupported-content {
      max-width: 400px;
      margin: 0 auto;
      padding: 48px 24px;
      text-align: center;
    }
    .browser-unsupported-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 24px;
      background: #D1E4FF;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
    }
    .browser-unsupported-icon svg {
      width: 40px;
      height: 40px;
      fill: #0061A4;
    }
    .browser-unsupported h1 {
      font-size: 24px;
      font-weight: 500;
      color: #1A1C1E;
      margin: 0 0 16px;
    }
    .browser-unsupported p {
      font-size: 14px;
      color: #43474E;
      line-height: 1.6;
      margin: 0 0 24px;
    }
    .browser-unsupported-card {
      background: #F1F4F9;
      border-radius: 16px;
      padding: 16px;
      margin-bottom: 24px;
      text-align: left;
    }
    .browser-unsupported-card h3 {
      font-size: 14px;
      font-weight: 500;
      color: #1A1C1E;
      margin: 0 0 8px;
    }
    .browser-unsupported-card ul {
      margin: 0;
      padding-left: 20px;
      color: #43474E;
      font-size: 13px;
    }
    .browser-unsupported-card li {
      margin: 4px 0;
    }
    .browser-unsupported-btn {
      display: inline-block;
      background: #0061A4;
      color: white;
      padding: 12px 32px;
      border-radius: 100px;
      text-decoration: none;
      font-size: 14px;
      font-weight: 500;
    }
    @media (prefers-color-scheme: dark) {
      .browser-unsupported { background: #1A1C1E; }
      .browser-unsupported-icon { background: #00497D; }
      .browser-unsupported-icon svg { fill: #9ECAFF; }
      .browser-unsupported h1 { color: #E2E2E6; }
      .browser-unsupported p { color: #C3C7CF; }
      .browser-unsupported-card { background: #2B2D31; }
      .browser-unsupported-card h3 { color: #E2E2E6; }
      .browser-unsupported-card ul { color: #C3C7CF; }
      .browser-unsupported-btn { background: #9ECAFF; color: #003258; }
    }
  </style>
</head>

<body>
  <!-- 浏览器不支持提示 -->
  <div id="browser-unsupported" class="browser-unsupported">
    <div class="browser-unsupported-content">
      <div class="browser-unsupported-icon">
        <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"/></svg>
      </div>
      <h1>请升级浏览器</h1>
      <p>您的浏览器版本过低，无法正常显示此页面。为了获得最佳体验，请升级到以下浏览器版本：</p>
      <div class="browser-unsupported-card">
        <h3>推荐浏览器</h3>
        <ul>
          <li>Safari 14+ (iOS 14+)</li>
          <li>Chrome 90+</li>
          <li>Edge 90+</li>
          <li>Firefox 90+</li>
        </ul>
      </div>
      <a href="https://browsehappy.com/" class="browser-unsupported-btn">了解更多</a>
    </div>
  </div>

  <div id="app"></div>
  
  <!-- 浏览器检测脚本 - 使用老语法确保能运行 -->
  <script>
    (function() {
      var isSupported = true;
      try {
        // 检测 Optional Chaining 和 Nullish Coalescing
        eval('var a = {}; a?.b ?? "c"');
        // 检测 Promise.allSettled
        if (typeof Promise.allSettled !== 'function') isSupported = false;
      } catch (e) {
        isSupported = false;
      }
      if (!isSupported) {
        document.getElementById('browser-unsupported').style.display = 'block';
        document.getElementById('app').style.display = 'none';
      }
    })();
  </script>
  <script type="module" src="/src/main.js"></script>
</body>

</html>
